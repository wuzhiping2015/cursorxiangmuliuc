<view class="home-container data-v-71e217db"><view class="header data-v-71e217db"><view class="user-info data-v-71e217db"><view class="data-v-71e217db"><text class="welcome-text data-v-71e217db">{{greeting+"，"}}</text><text class="username data-v-71e217db">{{userInfo.nickname}}</text></view><u-avatar vue-id="6b3d36ea-1" src="{{userInfo.avatar}}" size="40" class="data-v-71e217db" bind:__l="__l"></u-avatar></view></view><view class="stats-card data-v-71e217db"><view class="card-header data-v-71e217db"><text class="title data-v-71e217db">本周数据</text><text data-event-opts="{{[['tap',[['navigateToStats',['$event']]]]]}}" class="link data-v-71e217db" bindtap="__e">查看全部</text></view><view class="stats-grid data-v-71e217db"><view class="stat-item data-v-71e217db"><text class="value data-v-71e217db">{{stats.activeHabits}}</text><text class="label data-v-71e217db">活跃习惯</text></view><view class="stat-item data-v-71e217db"><text class="value data-v-71e217db">{{stats.completionRate+"%"}}</text><text class="label data-v-71e217db">完成率</text></view><view class="stat-item data-v-71e217db"><text class="value data-v-71e217db">{{stats.maxStreak}}</text><text class="label data-v-71e217db">最长连续</text></view></view></view><view class="habits-section data-v-71e217db"><view class="section-header data-v-71e217db"><text class="title data-v-71e217db">今日习惯</text><text class="date data-v-71e217db">{{currentDate}}</text></view><view class="habit-list data-v-71e217db"><block wx:for="{{todayHabits}}" wx:for-item="habit" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['navigateToDetail',['$0'],[[['todayHabits','id',habit.id,'id']]]]]]]}}" class="habit-card data-v-71e217db" bindtap="__e"><view class="habit-icon data-v-71e217db" style="{{'background:'+(habit.iconBg)+';'}}"><u-icon vue-id="{{'6b3d36ea-2-'+__i0__}}" name="{{habit.icon}}" color="{{habit.iconColor}}" size="24" class="data-v-71e217db" bind:__l="__l"></u-icon></view><view class="habit-info data-v-71e217db"><text class="habit-name data-v-71e217db">{{habit.name}}</text><view class="habit-streak data-v-71e217db"><u-icon vue-id="{{'6b3d36ea-3-'+__i0__}}" name="fire" color="#ff6b6b" size="14" class="data-v-71e217db" bind:__l="__l"></u-icon><text class="data-v-71e217db">{{"连续"+habit.streak+"天"}}</text></view></view><u-checkbox bind:change="__e" bind:input="__e" vue-id="{{'6b3d36ea-4-'+__i0__}}" value="{{habit.completed}}" data-event-opts="{{[['^change',[['handleCheck',['$0'],[[['todayHabits','id',habit.id]]]]]],['^input',[['__set_model',['$0','completed','$event',[]],[[['todayHabits','id',habit.id]]]]]]]}}" class="data-v-71e217db" bind:__l="__l"></u-checkbox></view></block></view></view><view data-event-opts="{{[['tap',[['navigateToAdd',['$event']]]]]}}" class="add-button data-v-71e217db" bindtap="__e"><u-icon vue-id="6b3d36ea-5" name="plus" color="#ffffff" size="24" class="data-v-71e217db" bind:__l="__l"></u-icon></view></view>